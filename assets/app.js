!function(){"use strict";var app=angular.module("campfire-client",["ngSanitize","ngRoute"]);app.config(function($routeProvider){$routeProvider.when("/",{controller:"mainCtrl",controllerAs:"main",templateUrl:"./client/dev/main/view.html"}).when("/forum/:forumId/",{controller:"forumCtrl",controllerAs:"forum",templateUrl:"./client/dev/forum/view.html"}).when("/thread/:threadId/",{controller:"threadCtrl",controllerAs:"thread",templateUrl:"./client/dev/thread/view.html"}).when("/post/:postId/",{controller:"postCtrl",controllerAs:"post",templateUrl:"./client/dev/post/view.html"}).otherwise({redirectTo:"/"})}).value("$",window.$)}(),function(){"use strict";angular.module("campfire-client").service("service",function($q,$http){return{getForumsForVersion:function(versionID){var d=$q.defer();return $http.get("api/forum/all_for_version/"+versionID).then(function(result){d.resolve(result.data)}),d.promise}}})}(),function(){"use strict";angular.module("campfire-client").factory("Main",function($q,$http,service,Forum){var Main=function(){};return Main.prototype={forums:[]},Main.forums=[],Main.getForumsForVersion=function(versionID){var d=$q.defer();return $http.get("api/forum/all_for_version/"+versionID).then(function(result){var data=Forum.transformer(result.data);d.resolve(data)}),d.promise},Main})}(),function(){"use strict";angular.module("campfire-client").factory("Forum",function($q,$http){var forums=[],Forum=function(id,label,description,threads){this.id=id,this.label=label,this.description=description,this.threads=threads};return Forum.prototype={},Forum.service={getAll:function(courseVersion){var d=$q.defer();return $http.get("api/forum/all_for_version/"+courseVersion).then(function(data){d.resolve(data)}),d.promise}},Forum.build=function(data){return data?new Forum(data.id,data.label,data.description,data.threads):new Forum},Forum.getAll=function(courseVersion){return Forum.service.getAll(courseVersion).then(function(result){forums=Forum.transformer(result.data)}),forums},Forum.transformer=function(data){return angular.isArray(data)?data.map(Forum.build):Forum.build(data)},Forum})}(),function(){"use strict";angular.module("campfire-client").controller("mainCtrl",function($scope,Main,service,Forum){var vm=this;vm.courseVersion={id:1},vm.label="Forums",vm.forums=[];var initialize=function(){Main.getForumsForVersion(vm.courseVersion.id).then(function(result){vm.forums=result})};initialize()})}(),function(){"use strict";angular.module("campfire-client").controller("forumCtrl",function($scope){var vm=this,initialize=function(){console.log("Forum init.")};initialize()})}();
//# sourceMappingURL=./app.js.map